(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/index"],{"0b37":function(t,e,n){},"1da9":function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return o}));var o={hchMenu:function(){return n.e("components/hch-menu/hch-menu").then(n.bind(null,"f0cb"))}},a=function(){var t=this,e=t.$createElement;t._self._c},r=[]},"217f":function(t,e,n){},"26ad":function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return o}));var o={uNavbar:function(){return n.e("uview-ui/components/u-navbar/u-navbar").then(n.bind(null,"76ac"))},uSticky:function(){return n.e("uview-ui/components/u-sticky/u-sticky").then(n.bind(null,"5349"))},uTabs:function(){return Promise.all([n.e("common/vendor"),n.e("uview-ui/components/u-tabs/u-tabs")]).then(n.bind(null,"77f3"))}},a=function(){var t=this,e=t.$createElement;t._self._c},r=[]},"278f":function(t,e,n){"use strict";(function(t){n("0e66");o(n("66fd"));var e=o(n("d08b"));function o(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("543d")["createPage"])},"300c":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=u(n("de48")),a=u(n("b3f8")),r=u(n("d5f1"));function u(t){return t&&t.__esModule?t:{default:t}}var i=function(){n.e("components/split").then(function(){return resolve(n("61f2"))}.bind(null,n)).catch(n.oe)},c=function(){n.e("components/hch-menu/hch-menu").then(function(){return resolve(n("f0cb"))}.bind(null,n)).catch(n.oe)},d={components:{meaning:o.default,split:i,HchMune:c},data:function(){return{imgPath:"",filePath:"",mainwords:[]}},props:{},watch:{filePath:function(t,e){var n=this;console.log("filePath = "+t+" , oldValue = "+e);var o={token:""};o.token=r.default.getToken(),console.log(o),r.default.request(a.default.api.transfor1,o,"POST").then((function(t){var e=t.item;console.log(e.length);for(var o=0;o<e.length;o++)if(""==e[o].result&&(e[o].result="1"),""!=e[o].result){var u={token:"",fid:""};u.token=r.default.getToken(),u.fid=e[o].result,"-1"!=u.fid&&r.default.request(a.default.api.resource3,u,"POST").then((function(t){console.log(t),"301"!=t.code&&(console.log(t),n.mainwords.push(t))})).catch((function(t){n.loading=!1,r.default.toastError(t.data.message||t.errMsg)}))}})).catch((function(t){n.loading=!1,r.default.toastError(t.data.message||t.errMsg)}))}},methods:{returnItem:function(t){console.log(t),this.filePath=t}},onLoad:function(t){this.imgPath=t.filePath,console.log(t.filePath)},onShow:function(t){}};e.default=d},"48d2":function(t,e,n){"use strict";n.r(e);var o=n("1da9"),a=n("ecdc");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);n("565f");var u,i=n("f0c5"),c=Object(i["a"])(a["default"],o["b"],o["c"],!1,null,"05bd7b12",null,!1,o["a"],u);e["default"]=c.exports},"4b5c":function(t,e,n){},"565f":function(t,e,n){"use strict";var o=n("0b37"),a=n.n(o);a.a},"6fde":function(t,e,n){"use strict";n.r(e);var o=n("bf5d"),a=n.n(o);for(var r in o)"default"!==r&&function(t){n.d(e,t,(function(){return o[t]}))}(r);e["default"]=a.a},"7d11":function(t,e,n){"use strict";var o=n("4b5c"),a=n.n(o);a.a},a462:function(t,e,n){"use strict";var o=n("217f"),a=n.n(o);a.a},ab03:function(t,e,n){"use strict";n.r(e);var o=n("be6a"),a=n.n(o);for(var r in o)"default"!==r&&function(t){n.d(e,t,(function(){return o[t]}))}(r);e["default"]=a.a},be6a:function(t,e,n){"use strict";(function(t,o){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=c(n("b3f8")),r=c(n("d5f1")),u=(c(n("cc19")),c(n("de48"))),i=c(n("48d2"));function c(t){return t&&t.__esModule?t:{default:t}}var d=function(){n.e("components/split").then(function(){return resolve(n("61f2"))}.bind(null,n)).catch(n.oe)},l=function(){n.e("components/video").then(function(){return resolve(n("7e08"))}.bind(null,n)).catch(n.oe)},s=function(){n.e("components/headernav").then(function(){return resolve(n("33ef"))}.bind(null,n)).catch(n.oe)},f={components:{meaning:u.default,split:d,photo:i.default,videoInspect:l,headernav:s},data:function(){return{list:[{name:"文本"},{name:"图片"},{name:"视频"}],current:0,filePath:"",videoPath:"",tranlateWord:"",relatedwordsid:[],mainwordsid:[],relatedwords:[],mainwords:[],focus:!1,words:[],fids:[],historyfids:[],historywords:[]}},methods:{toHistory:function(e){t.navigateTo({url:"/pages/history/history"})},change:function(t){this.current=t},textareaInput:function(e){var n=this,o=r.default.getUser();console.log("user: "+o),void 0!=o&&void 0!=o.token||(console.log("user == undefined || user.token == undefined"),t.showModal({title:"温馨提示",content:"尚未登陆，请点击确认登陆账号",success:function(e){e.confirm&&t.navigateTo({url:"/pages/login/login"})}})),n.words.splice(0,n.words.length),n.relatedwordsid.splice(0,n.relatedwords.length),n.mainwordsid.splice(0,n.mainwords.length),n.relatedwords.splice(0,n.relatedwords.length),n.mainwords.splice(0,n.mainwords.length),this.tranlateWord=e.detail.value,console.log(n.tranlateWord);var u={sentence:"",token:""};u.sentence=this.tranlateWord,u.token=r.default.getToken(),r.default.request(a.default.api.transfor2,u,"POST").then((function(t){for(var e=0;e<t.item.length;e++){var o=[];"-1"!=t.item[e].result&&(o=t.item[e].result.split(","),console.log(o)),0!=o.length&&n.mainwordsid.push(o[0]);for(var u=1;u<o.length;u++)o.length>1&&n.relatedwordsid.push(o[u]);for(var i=function(t){var u={token:"",fid:""};u.token=r.default.getToken(),u.fid=o[e],"-1"!=u.fid&&r.default.request(a.default.api.resource3,u,"POST").then((function(t){console.log(t),"301"!=t.code&&(console.log(t),n.mainwords.push(t),r.default.setFidByWord(t.word,u.fid))})).catch((function(t){n.loading=!1,r.default.toastError(t.data.message||t.errMsg)}))},c=0;c<n.mainwordsid.length;c++)i(c);for(var d=0;d<n.relatedwordsid.length;d++){var l={token:"",fid:""};l.token=r.default.getToken(),l.fid=o[e],"-1"!=l.fid&&r.default.request(a.default.api.resource3,l,"POST").then((function(t){"301"!=t.code&&n.relatedwords.push(t)})).catch((function(t){n.loading=!1,r.default.toastError(t.data.message||t.errMsg)}))}}})).catch((function(t){n.loading=!1,r.default.toastError(t.data.message||t.errMsg)}))},textFocus:function(e){this.focus=!0;var n=r.default.getUser();console.log("user: "+n),void 0!=n&&void 0!=n.token||(console.log("user == undefined || user.token == undefined"),t.showModal({title:"温馨提示",content:"尚未登陆，请点击确认登陆账号",success:function(e){e.confirm&&t.navigateTo({url:"/pages/login/login"})}}))},textBlur:function(t){this.focus=!1}},onShow:function(){var t=this,e=r.default.getUser(),n=[],u=[];void 0==e||void 0==e.token?e={uid:"0",nickname:"请点我登录",avatar:"../static/images/logo.jpg",intro:"",token:""}:o.callFunction({name:"getHistory",data:{tel:e.uid},success:function(e){if(console.log(e),0!=e.result.data.data.length){console.log(e.result.data.data[0].fid),n=e.result.data.data[0].fid;for(var o=0;o<n.length;o++){var i={token:"",fid:""};i.token=r.default.getToken(),i.fid=n[o],"-1"!=i.fid&&r.default.request(a.default.api.resource3,i,"POST").then((function(t){console.log(t),"301"!=t.code&&(u.push(t),console.log(u))})).catch((function(e){t.loading=!1,r.default.toastError(e.data.message||e.errMsg)}))}}},fail:function(t){console.log(t)}}),t.historywords=u,t.historyfids=n}};e.default=f}).call(this,n("543d")["default"],n("a9ff")["default"])},bf5d:function(t,e,n){"use strict";(function(t,o){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;r(n("b3f8"));var a=r(n("d5f1"));r(n("cc19"));function r(t){return t&&t.__esModule?t:{default:t}}var u={name:"meaning",data:function(){return{}},onReady:function(){},methods:{toDetail:function(){var e=a.default.getUser(),n=this;t.navigateTo({url:"/pages/detail/detail?word="+n.word+"&type="+n.type+"&interpretation="+n.interpretation+"&imgsrc="+n.imgsrc+"&videosrc="+n.videosrc}),o.callFunction({name:"getHistory",data:{tel:e.uid},success:function(t){console.log(t),0==t.result.data.data.length&&o.callFunction({name:"addHistory",data:{tel:e.uid,fid:[]},success:function(t){console.log(t)},fail:function(t){console.log(t)}});var r=[];0!=t.result.data.data.length&&(r=t.result.data.data[0].fid);var u=a.default.getFidByWord(n.word);r.push(u),o.callFunction({name:"updateHistory",data:{tel:e.uid,fid:r},success:function(t){console.log(t)},fail:function(t){console.log(t)}})},fail:function(t){console.log(t)}})}},props:{type:{type:String,default:"adj"},interpretation:{type:String,default:"一手食指指眼部"},word:{type:String,default:"眼睛"},imgsrc:{type:String,default:"http://file.bookcodes.cn/pictures/eye.jpg"},videosrc:{type:String,default:"http://file.bookcodes.cn/pictures/eye.jpg"}}};e.default=u}).call(this,n("543d")["default"],n("a9ff")["default"])},d08b:function(t,e,n){"use strict";n.r(e);var o=n("26ad"),a=n("ab03");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);n("7d11");var u,i=n("f0c5"),c=Object(i["a"])(a["default"],o["b"],o["c"],!1,null,"33bac06f",null,!1,o["a"],u);e["default"]=c.exports},da18:function(t,e,n){"use strict";var o;n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return o}));var a=function(){var t=this,e=t.$createElement;t._self._c},r=[]},de48:function(t,e,n){"use strict";n.r(e);var o=n("da18"),a=n("6fde");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);n("a462");var u,i=n("f0c5"),c=Object(i["a"])(a["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],u);e["default"]=c.exports},ecdc:function(t,e,n){"use strict";n.r(e);var o=n("300c"),a=n.n(o);for(var r in o)"default"!==r&&function(t){n.d(e,t,(function(){return o[t]}))}(r);e["default"]=a.a}},[["278f","common/runtime","common/vendor"]]]);